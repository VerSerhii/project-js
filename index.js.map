{"version":3,"file":"index.js","sources":["../src/artists.js"],"sourcesContent":["const API_BASE = 'https://sound-wave.b.goit.study/api';\nconst artistsList = document.getElementById('artists-list');\nconst loadMoreBtn = document.getElementById('load-more');\n\n\n\n\nlet currentPage = 1;\nconst limit = 8;\n\nasync function fetchArtists(page = 1, limit = 8) {\n  try {\n    const response = await fetch(`${API_BASE}/artists?page=${page}&limit=${limit}`);\n    if (!response.ok) throw new Error('Failed to fetch artists');\n    return await response.json();\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction renderArtists(artists) {\n  const filtered = artists.filter(artist => artist.strArtistThumb);\n  const markup = artists\n    .map(\n      (artist) => `\n      <li class=\"artist-card\">\n        <img class=\"artist-photo\" src=\"${artist.strArtistThumb}\" alt=\"${artist.strArtist}\" />\n        <div class=\"artist-info\">\n          <ul class=\"artist-genres\">\n            ${artist.genres.map(g => `<li class=\"artist-genre\">${g}</li>`).join('')}\n          </ul>\n          <h3 class=\"artist-name\">${artist.strArtist}</h3>\n          <p class=\"artist-description\">\n            ${artist.strBiographyEN\n              ? artist.strBiographyEN.slice(0, 120) + '...'\n              : 'No description available'}\n          </p>\n          <button class=\"learn-more-btn\" data-id=\"${artist._id}\">Learn More</button>\n        </div>\n      </li>\n    `\n    )\n    .join('');\n  artistsList.insertAdjacentHTML('beforeend', markup);\n\n  document.querySelectorAll('.learn-more-btn').forEach((btn) =>\n    btn.addEventListener('click', (e) => openModal(e.target.dataset.id))\n  );\n}\n\n\nasync function init() {\n  const data = await fetchArtists(currentPage, limit);\n  renderArtists(data.artists);\n}\n\ninit();\n\n\nloadMoreBtn.addEventListener('click', async () => {\n  currentPage++;\n  const data = await fetchArtists(currentPage, limit);\n  renderArtists(data.artists);\n\n  if (!data.hasMore) loadMoreBtn.style.display = 'none';\n});\n\n"],"names":["API_BASE","artistsList","loadMoreBtn","currentPage","limit","fetchArtists","page","response","error","renderArtists","artists","artist","markup","g","btn","e","init","data"],"mappings":"ssBAAA,MAAMA,EAAW,sCACXC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAc,SAAS,eAAe,WAAW,EAKvD,IAAIC,EAAc,EAClB,MAAMC,EAAQ,EAEd,eAAeC,EAAaC,EAAO,EAAGF,EAAQ,EAAG,CAC/C,GAAI,CACF,MAAMG,EAAW,MAAM,MAAM,GAAGP,CAAQ,iBAAiBM,CAAI,UAAUF,CAAK,EAAE,EAC9E,GAAI,CAACG,EAAS,GAAI,MAAM,IAAI,MAAM,yBAAyB,EAC3D,OAAO,MAAMA,EAAS,MACvB,OAAQC,EAAO,CACd,QAAQ,MAAMA,CAAK,CACpB,CACH,CAEA,SAASC,EAAcC,EAAS,CACbA,EAAQ,OAAOC,GAAUA,EAAO,cAAc,EAC/D,MAAMC,EAASF,EACZ,IACEC,GAAW;AAAA;AAAA,yCAEuBA,EAAO,cAAc,UAAUA,EAAO,SAAS;AAAA;AAAA;AAAA,cAG1EA,EAAO,OAAO,IAAIE,GAAK,4BAA4BA,CAAC,OAAO,EAAE,KAAK,EAAE,CAAC;AAAA;AAAA,oCAE/CF,EAAO,SAAS;AAAA;AAAA,cAEtCA,EAAO,eACLA,EAAO,eAAe,MAAM,EAAG,GAAG,EAAI,MACtC,0BAA0B;AAAA;AAAA,oDAEUA,EAAO,GAAG;AAAA;AAAA;AAAA,KAIzD,EACA,KAAK,EAAE,EACVV,EAAY,mBAAmB,YAAaW,CAAM,EAElD,SAAS,iBAAiB,iBAAiB,EAAE,QAASE,GACpDA,EAAI,iBAAiB,QAAUC,GAAM,UAAUA,EAAE,OAAO,QAAQ,EAAE,CAAC,CACvE,CACA,CAGA,eAAeC,GAAO,CACpB,MAAMC,EAAO,MAAMZ,EAAaF,EAAaC,CAAK,EAClDK,EAAcQ,EAAK,OAAO,CAC5B,CAEAD,IAGAd,EAAY,iBAAiB,QAAS,SAAY,CAChDC,IACA,MAAMc,EAAO,MAAMZ,EAAaF,EAAaC,CAAK,EAClDK,EAAcQ,EAAK,OAAO,EAErBA,EAAK,UAASf,EAAY,MAAM,QAAU,OACjD,CAAC"}